# 配置文件

> `/usr/local/nginx/conf/nginx.conf`

## 文件组成

### 全局块

> 从配置文件开始，到event块之间的内容，主要设置一些影响`nginx`服务器整体运行的配置指令

- `worker_processes  1`
  `nginx`服务器并发处理配置，值越大，并发度越高，但是受设备和运行软件的影响

### `event`块

> 配置`nginx`服务器与用户之间的网络连接配置

```she
events {
    worker_connections  1024;
}
```

`nginx`服务支持的最大连接数

### `http`块

#### `http`全局块

> 包括文件引入、MIME-TYPE类型定义、日志自定义、连接超时时间、单连接请求上限等

#### `server`块

> 和虚拟主机有密切关系，从用户的角度来说，虚拟主机和一台独立的硬件主机是完全一样的，该技术的产生是为了节省互联网服务器硬件成本

一个`http`块可以包含多个`server`块，每个`server`块相当于一台虚拟主机

##### 全局server块



##### location块

一个server块可以配置多个location块

> 该模块主要作用是基于`nginx`服务器接收到的请求字符串（例如：`server_name/url_string`），对于虚拟主机（或`IP`别名）之外的字符串（例如前面的`/url-string`）进行匹配，对特定的请求进行处理。地址定向、数据缓存和应答控制等功能

- `=` ：用于不含正则表达式的 uri 前，要求请求字符串与 uri 严格匹配， 如果匹配成功，就停止继续向下搜索并立即处理该请求。
- `~`：用于表示 uri 包含正则表达式，并且区分大小写。
- `~*`：用于表示 uri 包含正则表达式，并且不区分大小写。
- `^~`：用于不含正则表达式的 uri 前，要求 Nginx 服务器找到标识 uri 和请求