# 同步与互斥

## 进程同步

同步也叫做直接制约关系，它是指为完成某种任务而建立的两个或多个进程，这些进程因为需要在某些位置上协调它们的工作次序而产生的制约关系。

## 进程互斥

互斥，也叫做间接制约关系，进程互斥指当一个进程访问某临界资源时，另一个想要访问该临界资源的进程必须等待，当前访问临界资源的进程访问结束，释放该资源之后，另一个进程才能去访问临界资源（一个时间段内只允许一个进程适用的资源，例如，内存缓冲区）。

### 组成部分

#### 进入区

负责检查是否可以进入临界区，若可以进入，则应设置**正在访问临界资源标志**（可理解为“上锁”），以阻止其他进程同时进入临界区

#### 临界区（临界段）

访问临界资源的那段代码

#### 退出区

负责解除**正在访问临界资源的标志**（可以理解为解锁）

#### 剩余区

做其他处理

### 实现互斥需要遵守的原则

- 空闲让进：临界区空闲时，可以允许一个请求进入临界区的进程立即进入临界区
- 忙则等待：当已有进程进入临界区时，其他试图进入临界区的进程必须等待
- 有限等待：对请求访问的进程，应保证能在有限时间内进入临界区（保证不会饥饿）
- 让权等待：当进程不能进入临界区时，应立即释放处理机，防止进程忙等待