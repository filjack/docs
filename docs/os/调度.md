# 调度

## 基本概念

当有一批任务需要处理时，由于资源有限，无法同时处理，需要按照一定的规则，形成特定的调度顺序，按顺序处理这些任务。

## 层次分类

### 高级调度（作业调度）

作业：是指一个具体的任务。

按一定的规则从外存的作业后备队列中挑选一个作业调入内存并创建进程。每个作业只会调入一次，调出一次，调入时创建PCB，调出时撤销PCB。

### 中级调度（内存调度）

#### 挂起状态

当内存不足时，会将某些优先级不高的进程数据调出到外存，等待内存空闲或者进程需要运行时再调入内存。

暂时调出外存等待的进程状态称为挂起状态，被挂起的进程的PCB会组织到挂起队列中。

挂起状态可以被分为

- 就绪挂起
- 阻塞挂起

七状态转换图

<img :src="$withBase='/img/os-dispatch-seven-status-model.png'" class="align-center"/>

#### 中级调度

按照某种规则，将某些挂起的进程重新调入内存中。一个进程可能被多次挂起，也就是会调入/调出多次，所以中级调度频率比高级调度要高。

### 低级调度（[进程调度](./进程调度.md)）

按照某种策略，从就绪队列中选中一个进程，将处理机分配给它（上CPU运行）。

低级调度是操作系统中最基本的一中调度。

低级调度的频率很高，一般几十毫秒一次。

### 三种调度的比较

<img :src="$withBase='/img/os-three-dispatch-model-compare.png'" class="align-center"/>