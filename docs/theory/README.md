# 理论概念简述

## DAO

`Data Access Object`，数据访问对象，主要关注于存储在数据库中的一条条记录。

## ORM

`Object Relational Mapping`，对象关系映射，该框架采用元数据来描述对象与关系映射的细节

## SOA

面向服务的架构（SOA）是一种软件开发方法，它使用称为服务的软件组件来创建业务应用程序。每项服务提供一种业务能力，并且服务也可以跨平台和语言相互通信。开发人员使用 SOA 来重用不同系统中的服务，或者组合几个独立的服务来执行复杂的任务。

例如，一个组织中的多个业务流程需要用户身份验证功能。您可以创建一项身份验证服务并在所有应用程序中重用，而不是为所有业务流程重写身份验证代码。同样，医疗机构中的几乎所有系统，例如患者管理系统和电子健康记录（EHR）系统，都需要登记患者。这些系统可以调用一项单一的公共服务来执行患者登记任务。

## CAP

分布式数据存储系只能同时保证一致性（Consistency）、可用性（Availability）、分区容错性（Partition tolerance）中的两项。

- 一致性：每次读操作都能获得最近的一次写内容或者一个错误
- 可用性：每次请求都能获得一个（非错的）响应，但是不保证获取的是最近的写内容
- 分区容错性：分区节点之间的任何网络通信不管丢失（或延迟发送）了多少消息，系统都能继续执行操作

当网络分区发生故障时，必须选择一下两个操作中的一个：

- 取消操作，降低了可用性但是保证了一致性
- 继续执行操作，保证了可用性但是有数据不一致的风险

没有任何分布式系统能够避免网络故障，所以不得不容忍[网络分区](##网络分区)问题

## BASE

BASE理论是对[CAP](##CAP)中一致性和可用性权衡的结果。其核心思想是，既然无法做到强一致性，但每个应用都可以根据自身的业务特点，采用适当的方式来使系统达到最终一致性。

- basically available（基本可用）：尽可能多的提供可用的读和写操作（使用所有集群的节点），但是可能不能保证一致性（协调冲突后写入可能不会继续，并且读取可能无法获取最新的写入）
- soft state（软状态）：不保证一致性，一段时间后，我们只有一定的概率知道状态，因为它可能还没有收敛
- eventually consistent（最终一致性）：如果我们执行一些写操作，等到系统运行了足够长的时间，我们最终能够确定数据的状态，对该数据的任何一个读操作都将返回相同的值

## 网络分区

网络分区只在分布式集群中，节点之间由于网络不通，导致集群中节点形成不同的子集，子集中节点之间网络互通，而子集与子集之间网络不通。

